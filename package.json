{
    "name": "@datawrapper/api",
    "version": "2.9.0",
    "description": "This repository contains the new Node.js based API that will power the future of Datawrapper.",
    "homepage": "https://github.com/datawrapper/datawrapper-api#readme",
    "bugs": {
        "url": "https://github.com/datawrapper/datawrapper-api/issues"
    },
    "license": "UNLICENSED",
    "author": "Datawrapper GmbH",
    "files": [
        "src",
        "scripts",
        "config.tpl.js"
    ],
    "main": "src/index.js",
    "bin": {
        "dw-api": "src/index.js",
        "dw-sync": "scripts/sync-db.js",
        "dw-update": "scripts/update.js"
    },
    "scripts": {
        "format": "prettier '**/*.js' --write",
        "lint": "prettier --check '**/*.js' && healthier '**/*.js'",
        "test": "DW_CONFIG_PATH=test/_config.test.js ava --verbose || true",
        "test:update-snapshots": "DW_CONFIG_PATH=test/_config.test.js ava --update-snapshots",
        "update-translations": "node scripts/update-translations.js",
        "clean:db": "DW_CONFIG_PATH=test/_config.test.js node test/helpers/teardown.js",
        "posttest": "npm run clean:db",
        "dev": "NODE_ENV=development nodemon src/index.js",
        "api": "node src/index.js",
        "start": "node src/index.js"
    },
    "nodemonConfig": {
        "ignore": [
            "d3*/src/*",
            "d3*/static/*",
            "d3*/tests/*",
            "locator-maps/src/*",
            "locator-maps/static/*",
            "locator-maps/tests/*",
            "tables/src/*",
            "tables/static/*",
            "tables/tests/*",
            "team-*/src/*",
            "team-*/static/*",
            "admin-*/src/*",
            "admin-*/static/*",
            "visualization*/src/*",
            "visualization*/static/*",
            "visualization*/tests/*",
            "external-data/src/*",
            "external-data/static/*",
            "simple-maps/src/*",
            "simple-maps/static/*",
            "image-publishing/src/*",
            "image-publishing/static/*",
            "subscriptions/src/*",
            "subscriptions/static/*",
            "social-sharing/src/*",
            "social-sharing/static/*",
            "chart-locale-select/src/*",
            "chart-locale-select/static/*",
            "themes/static/*"
        ]
    },
    "repository": {
        "type": "git",
        "url": "git+https://github.com/datawrapper/datawrapper-api.git"
    },
    "dependencies": {
        "@datawrapper/chart-core": "^8.28.2",
        "@datawrapper/locales": "^1.2.3",
        "@datawrapper/orm": "^3.22.2",
        "@datawrapper/schemas": "^1.11.0",
        "@datawrapper/service-utils": "^0.6.3",
        "@hapi/boom": "9.1.0",
        "@hapi/catbox-memory": "5.0.0",
        "@hapi/catbox-redis": "5.0.5",
        "@hapi/crumb": "^8.0.1",
        "@hapi/hapi": "19.1.1",
        "@hapi/inert": "6.0.1",
        "@hapi/joi": "17.1.1",
        "@hapi/vision": "6.0.0",
        "arg": "4.1.2",
        "assign-deep": "1.0.1",
        "autoprefixer": "^9.7.6",
        "bcryptjs": "2.4.3",
        "chalk": "3.0.0",
        "cssnano": "4.1.10",
        "esm": "^3.2.25",
        "fs-extra": "8.1.0",
        "got": "10.7.0",
        "hapi-auth-bearer-token": "6.2.1",
        "hapi-pino": "6.5.0",
        "hapi-swagger": "13.0.2",
        "humps": "2.0.1",
        "ioredis": "4.17.3",
        "jsesc": "2.5.2",
        "less": "3.11.1",
        "lodash": "4.17.19",
        "mime": "2.4.4",
        "nanoid": "2.1.11",
        "otplib": "^12.0.1",
        "postcss": "7.0.27",
        "postcss-default-unit": "1.0.0",
        "postcss-discard": "0.3.7",
        "postcss-less": "3.1.4",
        "pug": "3.0.1",
        "sanitize-html": "^1.23.0",
        "tar": "6.0.1",
        "yub": "^0.11.1"
    },
    "devDependencies": {
        "ava": "~3.5.2",
        "babel-eslint": "~10.1.0",
        "dotenv": "~8.2.0",
        "healthier": "~3.3.0",
        "husky": "~4.2.5",
        "lint-staged": "~9.4.3",
        "nodemon": "~2.0.3",
        "openapi-schema-validator": "~3.0.3",
        "prettier": "^2.0.5",
        "tap-xunit": "~2.4.1"
    },
    "lint-staged": {
        "*.js": [
            "prettier --write",
            "healthier",
            "git add"
        ]
    },
    "eslintConfig": {
        "parser": "babel-eslint",
        "rules": {
            "no-console": [
                "error",
                {
                    "allow": [
                        "warn",
                        "error"
                    ]
                }
            ],
            "camelcase": [
                "warn",
                {
                    "ignoreDestructuring": true,
                    "properties": "never"
                }
            ]
        }
    },
    "prettier": {
        "arrowParens": "avoid",
        "printWidth": 100,
        "semi": true,
        "singleQuote": true,
        "tabWidth": 4,
        "trailingComma": "none"
    },
    "husky": {
        "hooks": {
            "pre-commit": "lint-staged"
        }
    },
    "ava": {
        "files": [
            "**/*.test.js",
            "!plugins/**/*"
        ],
        "require": [
            "./test/helpers/setup.js"
        ],
        "snapshotDir": "test/__snapshots__"
    }
}
